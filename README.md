# ubuntu-fixer
At the moment, this repository has a script that will "fix" Ubuntu, removing all traces of Snap and the Snap Store, and replacing it with Flatpak and GNOME Software or KDE Discover. The goal of this script is to avoid throwing the baby out with the bathwater. Ubuntu has quite a few good aspects. It is a more complete version of Debian, coming with necessary user tools, it has well maintained repositories based on the Debian Testing repos, and, unlike other distros, it actually integrates well with less popular desktop environments like LXQt, XFCE, and MATE. The only real Downside to Ubuntu is Snaps. There is a similar script by Alan Pope called [unsnap](https://github.com/popey/unsnap). The differences between unsnap and Ubuntu-Fixer are mainly that unsnap deletes all Snaps and replaces them with the equivalent Flatpaks, were Ubuntu-Fixer just deletes all Snaps and then installs Flatpak and whatever software is needed to manages Flatpaks with a GUI. For Ubuntu, this is GNOME Software (gnome-software), which is the GUI, and the GNOME Software Flatpak Plugin (gnome-software-plugin-flatpak), which allows GNOME Software to manage Flatpaks. For Kubuntu, this is the KDE Discover Flatpak Backend (plasma-discover-backend-flatpak), which allows KDE Discover to manage Flatpaks, and the Flatpak Permissions Managment KCM (kde-config-flatpak), which allows you to manage Flatpak permissions in KDE Plasma Settings. Kubuntu comes with KDE Discover (plasma-discover), so you don't need to install that. So basically, unsnap is for people who want to replace their Snaps with Flatpaks, and ubuntu-fixer is for people who just installed Ubuntu, and don't want to deal with any of the Ubuntu crap.

# WARNING!!!
I am relatively inexperienced and this script is in constant development, so only run this on fresh installs so as to not lose anything.

## The Jank
In the part of the script that deletes all Snaps, I had to use some jank to get it to work. It pipes Snap list, which shows a table of the installed Snap packages, into an awk command that just reads the first column aside from the first row, which is the header. That makes a clean list of all installed Snap packages. When just deleting all Snap packages, it would return an error because some Snaps relied on others. Because I have a set command which exits the script on error, this error would stop the script. Before the changes, the solution was to pipe the list of Snaps into a grep command that would exclude the dependencies. This avoided error by deleting the packages before deleting their dependencies. These changes were made because I realised that deleting all of the packages at once worked without the set -e command. It would still error, and it would still ignore deleting the dependencies, but if you try to delete them again, it would get rid of the rest of them. As I'm writing this, I am yet to fix that, so as soon as I'm done updating this readme, I will get to that.

## What's Coming
I am still yet to make scripts for the Ubuntu flavors. All I have right now are scripts for Ubuntu and Kubuntu. Adding more shouldn't be too hard to do because they will be very similar to (and possibly the same as), the other scripts. The only possible differences are Kubuntu and Lubuntu already coming with KDE Discover and the different Flatpak plugins/backends for KDE Discover. I am debating whether to add some commands that remove all of Ubuntu's telemetry, cause even though people hate on Ubuntu telemetry, there are only three services, Whoopsie, Apport, and Ubuntu-Report, Whoopsie relies on Apport to make crash reports so that it can report them to Ubuntu, Apport isn't even enabled on the stable releases, and Ubuntu-Report simply tells Ubuntu what hardware you are running so they can prioritize making drivers for more popular hardware.

## How to Use
To use the Ubuntu Fixer, copy the raw contents of the text file that you need (for Ubuntu it is Ubuntu-Fixer.sh) into a text file, name it Ubuntu-Fixer.sh, go into Ubuntu-Fixer.sh Properties, turn on "Executeable as Program", exit properties, right click it, and then click "Run as a Program". Hopefully later I can find a simpler way to run the script.
It is recommended that you do this on a fresh install to avoid losing any data attached to your Snaps and to not risk breaking an important system, but the script should work regardless. Always remember to proceed with caution when it comes to running shell scripts, especially when they are made by a random kid with little experience.

## Credits
[Alan Pope](https://github.com/popey) just in case my script is considered too similar, I didn't copy what he did, I just want to credit him for doing what I did, but doing it first and better.
[Network Chuck](https://github.com/theNetworkChuck) for originally getting me into bash programming and teaching me some of the basics.
[Fritz](https://github.com/Fritzy-G) for offering to make Ubuntu Virtual Machines and test the script, even though he couldn't because his virtual machine software wasn't working, he still tried, so I'm giving credit where credit is due.

And yes, I used AI a little bit, and I am very ashamed about it. To be fair, the only reason I used it is because I'm too lazy to read the man pages, so I just have ChatGPT tell me if the flags that I'm using are correct, but I am still very ashamed about it.
